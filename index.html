<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ember Starter Kit</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/select2.css">
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.css" />
  </head>
  <body>

    <style>
      #map { height: 180px; }
      @media (min-width: 768px) {
      .navbar-form {
      width: 33.33% !important;
      }
      }
    </style>
    <!--<script type="text/x-handlebars">
	<h2>Welcome to Ember.js</h2>

	{{outlet}}
    </script>

    <script type="text/x-handlebars" data-template-name="index">
      <ul>
	{{#each item in model}}
	<li>{{item}}</li>
	{{/each}}
      </ul>
    </script>-->


    <div class="container">
      
      <nav class="navbar" role="navigation">
	<!-- Brand and toggle get grouped for better mobile display -->
	<div class="navbar-header">
	  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
	    <span class="sr-only">Toggle navigation</span>
	    <span class="icon-bar"></span>
	    <span class="icon-bar"></span>
	    <span class="icon-bar"></span>
	  </button>
	  <a class="navbar-brand" href="#">001</a>
	</div>

	<!-- Collect the nav links, forms, and other content for toggling -->
	<div class="collapse navbar-collapse navbar-ex1-collapse">
	  <ul class="nav navbar-nav">
	    <li><a href="#"><i class="icon-map-marker"></i> New Spot</a></li>
	  </ul>
	  <form class="navbar-form navbar-left" role="search">
	      <div class="input-group">
		<input type="text" class="form-control" placeholder="Search">
		<span class="input-group-btn">
		  <button type="submit" class="btn btn-primary"> <i class="icon-search icon-white"></i></button>
		</span>
	      </div>
	  </form>

	</div><!-- /.navbar-collapse -->
      </nav>
      <div id="appStatus"></div>
      <div id="map"></div>
      <div class="list-group" style="margin-top:20px;">
        <a class="list-group-item active" href="#">
          <h4 class="list-group-item-heading">List group item heading</h4>
          <p class="list-group-item-text">Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit.</p>
        </a>
        <a class="list-group-item" href="#">
          <h4 class="list-group-item-heading">List group item heading</h4>
          <p class="list-group-item-text">Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit.</p>
        </a>
        <a class="list-group-item" href="#">
          <h4 class="list-group-item-heading">List group item heading</h4>
          <p class="list-group-item-text">Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit.</p>
        </a>
      </div>
      <h2><i class="icon-large icon-map-marker"></i> New Spot</h2>
      <p>from my location</p>
      <form class="form-horizontal" role="form">
	<div class="form-group">
	  <label for="inputName" class="sr-only">Name</label>
	  <div class="col-lg-6">
	    <input type="text" class="form-control" id="inputName" placeholder="Name">
	  </div>
	</div>
	<div class="form-group">
	  <div class="col-lg-6">
	    <label for="inputActivity" class="sr-only">Activity</label>
	    <select id="inputActivity" multiple="multiple" class="populate placeholder">
	      <optgroup label="Alaskan/Hawaiian Time Zone">
		<option value="AK">Alaska</option>
		<option value="HI">Hawaii</option>
              </optgroup>
              <optgroup label="Pacific Time Zone">
		<option value="CA">California</option>
		<option value="NV">Nevada</option>
		<option value="OR">Oregon</option>
		<option value="WA">Washington</option>
              </optgroup>
              <optgroup label="Mountain Time Zone">
		<option value="AZ">Arizona</option>
		<option value="CO">Colorado</option>
		<option value="ID">Idaho</option>
		<option value="MT">Montana</option><option value="NE">Nebraska</option>
		<option value="NM">New Mexico</option>
		<option value="ND">North Dakota</option>
		<option value="UT">Utah</option>
		<option value="WY">Wyoming</option>
              </optgroup>
              <optgroup label="Central Time Zone">
		<option value="AL">Alabama</option>
		<option value="AR">Arkansas</option>
		<option value="IL">Illinois</option>
		<option value="IA">Iowa</option>
		<option value="KS">Kansas</option>
		<option value="KY">Kentucky</option>
		<option value="LA">Louisiana</option>
		<option value="MN">Minnesota</option>
		<option value="MS">Mississippi</option>
		<option value="MO">Missouri</option>
		<option value="OK">Oklahoma</option>
		<option value="SD">South Dakota</option>
		<option value="TX">Texas</option>
		<option value="TN">Tennessee</option>
		<option value="WI">Wisconsin</option>
              </optgroup>
              <optgroup label="Eastern Time Zone">
		<option value="CT">Connecticut</option>
		<option value="DE">Delaware</option>
		<option value="FL">Florida</option>
		<option value="GA">Georgia</option>
		<option value="IN">Indiana</option>
		<option value="ME">Maine</option>
		<option value="MD">Maryland</option>
		<option value="MA">Massachusetts</option>
		<option value="MI">Michigan</option>
		<option value="NH">New Hampshire</option><option value="NJ">New Jersey</option>
		<option value="NY">New York</option>
		<option value="NC">North Carolina</option>
		<option value="OH">Ohio</option>
		<option value="PA">Pennsylvania</option><option value="RI">Rhode Island</option><option value="SC">South Carolina</option>
		<option value="VT">Vermont</option><option value="VA">Virginia</option>
		<option value="WV">West Virginia</option>
              </optgroup>
	    </select>
	  </div>
	</div>
	<div class="form-group">
	  <label for="inputDescription" class="sr-only">Description</label>
	  <div class="col-lg-6">
	    <textarea rows="3" class="form-control" id="inputDescription" placeholder="Description"></textarea>
	  </div>
	</div>
	<div class="form-group">
	  <div class="col-lg-6">
	    <button type="submit" class="btn btn-primary">Add Spot</button>
	  </div>
	</div>
      </form>

      <form class="form-horizontal" role="form">
	<div class="form-group">
	  <label for="inputEmail1" class="sr-only">Email</label>
	  <div class="col-lg-6">
	    <input type="email" class="form-control" id="inputEmail1" placeholder="Email">
	  </div>
	</div>
	<div class="form-group">
	  <label for="inputPassword1" class="sr-only">Password</label>
	  <div class="col-lg-6">
	    <input type="password" class="form-control" id="inputPassword1" placeholder="Password">
	  </div>
	</div>
	<div class="form-group">
	  <label for="inputPassword2" class="sr-only">Confirm password</label>
	  <div class="col-lg-6">
	    <input type="password" class="form-control" id="inputPassword2" placeholder="Confirm password">
	  </div>
	</div>
	<div class="form-group">
	  <div class="col-lg-6">
	    <div class="checkbox">
              <label>
		<input type="checkbox"> Remember me
              </label>
	    </div>
	  </div>
	</div>
	<div class="form-group">
	  <div class="col-lg-6">
	    <button type="submit" class="btn btn-primary">Sign in</button>
	    <a href="#">New user ?</a>
	  </div>
	</div>
      </form>

    </div>


    

    <script src="js/libs/jquery-1.9.1.js"></script>
    <script src="js/libs/select2.min.js"></script>
    <script src="js/libs/handlebars-1.0.0.js"></script>
    <script src="js/libs/ember-1.0.0-rc.7.js"></script>
    <script src="js/app.js"></script>
    <script src="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.js"></script>
    <script src="js/libs/bootstrap.min.js"></script>
    <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>

    <script language="javascript">
       var startPos;
       var map;
      $(document).ready(function() {
      $("#inputActivity").select2({
      placeholder: "Activity"
      }).on("change", function(e) { $('#s2id_inputActivity').css('width','100%'); });
      $('#s2id_inputActivity').css('width','100%');
      
      if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(updateLocation,handleLocationError,{timeout:50000});
      }});
      
 function updateLocation(position)
 {
   var osmUrl = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
      osmAttrib = '&copy; <a href="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors',
      osm = L.tileLayer(osmUrl, {maxZoom: 18, attribution: osmAttrib});

      var map = L.map('map').setView([position.coords.latitude, position.coords.longitude], 15).addLayer(osm);

      L.marker([position.coords.latitude, position.coords.longitude])
      .addTo(map);
     // .bindPopup('A pretty CSS3 popup.<br />Easily customizable.')
     // .openPopup();
 }


function handleLocationError(error)
 {
   switch(error.code)
   {
     case 0:
      updateStatus("There was an error while retrieving your location: " + error.message);
     break;

     case 1:
      updateStatus("The user prevented this page from retrieving the location.");
      break;

     case 2:
      updateStatus("The browser was unable to determine your location: " + error.message);

      break;

     case 3:

      updateStatus("The browser timed out before retrieving the location.");

      break;
   }
 }

 function updateStatus(msg)
 {
  document.getElementById("appStatus").innerHTML = msg;
 }



    </script>

  </body>
</html>

